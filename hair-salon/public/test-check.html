<!DOCTYPE html>
<html>
<head>
    <title>Test - VIVA HAIR</title>
    <style>body{font-family:sans-serif;padding:20px;max-width:600px;margin:0 auto} .test{padding:10px;margin:5px 0;border-radius:5px} .pass{background:#d4edda} .fail{background:#f8d7da} h2{border-bottom:2px solid #333;padding-bottom:10px}</style>
</head>
<body>
    <h1>ğŸ” VIVA HAIR ç¶²ç«™æª¢æŸ¥</h1>
    
    <h2>1. åŸºæœ¬çµæ§‹</h2>
    <div id="test1" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>2. Configè®€å–</h2>
    <div id="test2" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>3. æœå‹™åˆ—è¡¨</h2>
    <div id="test3" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>4. é«®å‹å¸«åˆ—è¡¨</h2>
    <div id="test4" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>5. æ—¥æœŸè¼¸å…¥</h2>
    <div id="test5" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>6. æ™‚é–“é–å®šé‚è¼¯</h2>
    <div id="test6" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>7. é ç´„æäº¤</h2>
    <div id="test7" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>8. Google Maps</h2>
    <div id="test8" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>9. WhatsAppæµ®å‹•æŒ‰éˆ•</h2>
    <div id="test9" class="test">æª¢æŸ¥ä¸­...</div>
    
    <h2>10. å¾Œå°ç™»å…¥</h2>
    <div id="test10" class="test">æª¢æŸ¥ä¸­...</div>

<script>
// æ¸¬è©¦1: åŸºæœ¬çµæ§‹
(function(){
    var nav = document.querySelector('.navbar');
    var hero = document.querySelector('.hero');
    var services = document.querySelector('#services');
    var booking = document.querySelector('#booking');
    var map = document.querySelector('.map-container');
    var wa = document.querySelector('.float-wa');
    
    var result = 'PASS - ';
    if(!nav) result = 'FAIL - nav';
    else if(!hero) result = 'FAIL - hero';
    else if(!services) result = 'FAIL - services';
    else if(!booking) result = 'FAIL - booking';
    
    document.getElementById('test1').className = result.indexOf('PASS')>=0 ? 'test pass' : 'test fail';
    document.getElementById('test1').textContent = result;
})();

// æ¸¬è©¦2: Config
(function(){
    try{
        var saved = localStorage.getItem('VIVA_config');
        var config = saved ? JSON.parse(saved) : {services:{},staff:{}};
        
        if(config.services && config.staff){
            document.getElementById('test2').className = 'test pass';
            document.getElementById('test2').textContent = 'PASS - Configè®€å–æ­£å¸¸';
        }else{
            document.getElementById('test2').className = 'test fail';
            document.getElementById('test2').textContent = 'FAIL - Configçµæ§‹å•é¡Œ';
        }
    }catch(e){
        document.getElementById('test2').className = 'test fail';
        document.getElementById('test2').textContent = 'FAIL - ' + e.message;
    }
})();

// æ¸¬è©¦3: æœå‹™åˆ—è¡¨
(function(){
    var grid = document.getElementById('servicesGrid');
    if(grid && grid.children.length > 0){
        document.getElementById('test3').className = 'test pass';
        document.getElementById('test3').textContent = 'PASS - æœå‹™æ•¸é‡: ' + grid.children.length;
    }else{
        document.getElementById('test3').className = 'test fail';
        document.getElementById('test3').textContent = 'FAIL - æ²’æœ‰æœå‹™';
    }
})();

// æ¸¬è©¦4: é«®å‹å¸«åˆ—è¡¨  
(function(){
    var grid = document.getElementById('teamGrid');
    if(grid && grid.children.length > 0){
        document.getElementById('test4').className = 'test pass';
        document.getElementById('test4').textContent = 'PASS - é«®å‹å¸«æ•¸é‡: ' + grid.children.length;
    }else{
        document.getElementById('test4').className = 'test fail';
        document.getElementById('test4').textContent = 'FAIL - æ²’æœ‰é«®å‹å¸«';
    }
})();

// æ¸¬è©¦5: æ—¥æœŸ
(function(){
    var date = document.getElementById('dateInput');
    if(date && date.min && date.max){
        document.getElementById('test5').className = 'test pass';
        document.getElementById('test5').textContent = 'PASS - æ—¥æœŸç¯„åœ: ' + date.min + ' åˆ° ' + date.max;
    }else{
        document.getElementById('test5').className = 'test fail';
        document.getElementById('test5').textContent = 'FAIL - æ—¥æœŸè¨­å®šå•é¡Œ';
    }
})();

// æ¸¬è©¦6: æ™‚é–“é–å®š
(function(){
    try{
        function isLocked(date, time, staffId, duration){
            var bookings = JSON.parse(localStorage.getItem('VIVA_bookings') || '[]');
            var start = parseInt(time.split(':')[0]);
            var end = start + Math.ceil(duration / 60);
            for(var b of bookings){
                if(b.date !== date || b.staff !== staffId) continue;
                var bStart = parseInt(b.time.split(':')[0]);
                var bService = {duration:60};
                var bEnd = bStart + Math.ceil(bService.duration/60);
                if(start < bEnd && end > bStart) return true;
            }
            return false;
        }
        
        // æ¸¬è©¦å‡½æ•¸å­˜åœ¨
        if(typeof isLocked === 'function'){
            document.getElementById('test6').className = 'test pass';
            document.getElementById('test6').textContent = 'PASS - æ™‚é–“é–å®šå‡½æ•¸æ­£å¸¸';
        }else{
            document.getElementById('test6').className = 'test fail';
            document.getElementById('test6').textContent = 'FAIL - å‡½æ•¸å•é¡Œ';
        }
    }catch(e){
        document.getElementById('test6').className = 'test fail';
        document.getElementById('test6').textContent = 'FAIL - ' + e.message;
    }
})();

// æ¸¬è©¦7: é ç´„è¡¨å–®
(function(){
    var form = document.getElementById('bookingForm');
    if(form && form.onsubmit){
        document.getElementById('test7').className = 'test pass';
        document.getElementById('test7').textContent = 'PASS - è¡¨å–®submitç¶å®šæ­£å¸¸';
    }else{
        document.getElementById('test7').className = 'test fail';
        document.getElementById('test7').textContent = 'FAIL - è¡¨å–®å•é¡Œ';
    }
})();

// æ¸¬è©¦8: Maps
(function(){
    var map = document.querySelector('.map-iframe');
    if(map && map.src){
        document.getElementById('test8').className = 'test pass';
        document.getElementById('test8').textContent = 'PASS - Google Mapså·²åµŒå…¥';
    }else{
        document.getElementById('test8').className = 'test fail';
        document.getElementById('test8').textContent = 'FAIL - Mapså•é¡Œ';
    }
})();

// æ¸¬è©¦9: WhatsApp
(function(){
    var wa = document.querySelector('.float-wa a');
    if(wa && wa.href){
        document.getElementById('test9').className = 'test pass';
        document.getElementById('test9').textContent = 'PASS - WhatsAppé€£çµ: ' + wa.href;
    }else{
        document.getElementById('test9').className = 'test fail';
        document.getElementById('test9').textContent = 'FAIL - WhatsAppå•é¡Œ';
    }
})();

// æ¸¬è©¦10: å¾Œå°
(function(){
    var admin = document.querySelector('.sidebar');
    if(admin){
        document.getElementById('test10').className = 'test pass';
        document.getElementById('test10').textContent = 'PASS - å¾Œå°çµæ§‹æ­£å¸¸';
    }else{
        document.getElementById('test10').className = 'test fail';
        document.getElementById('test10').textContent = 'Note - å¾Œå°éœ€è¦ç™»å…¥å¾Œé¡¯ç¤º(æ­£å¸¸)';
    }
})();
</script>
</body>
</html>
